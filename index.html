<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Parse JavaScript Todo App</title>

    <script src="http://code.jquery.com/jquery-2.0.3.min.js"></script>
    <script src="js/underscore.js"></script>
    <script src="http://www.parsecdn.com/js/parse-1.2.13.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="css/bootstrap.min.css">
  </head>

  <body>


  <script>
      var choise_t = "";
      var choise = [];
      Parse.$ = jQuery;
     Parse.initialize("U45tHUunPOBlrrwiJQNWmCQBe9PtYWja9Wa6Ndfc", "AG4gZ1O3gMDUJ1rRgmsYeHU1ylvnVTdmtcD7uu4n");

    var innerhtml = '';

    function findaccount(choise)
    {
          innerhtml = '';
          $('#test').html("");
          var usd = Parse.Object.extend("SB_Account_LV21");
          var query = new Parse.Query(usd);
          query.limit(10000);
          query.containsAll("GachaSeq",choise);



          query.find({
              success: function (list) {
                  for (var i = 0; i < list.length; i++) {
                      var obj = list[i];
                      var GachaSeq = obj.get('GachaSeq');
                      var gacha1 = "(" +GachaSeq[0]+") " + obj.get('gacha1').toString().substring(obj.get('gacha1').toString().indexOf(',')+1);
                      var gacha2 = "(" +GachaSeq[1]+") " +obj.get('gacha2').toString().substring(obj.get('gacha2').toString().indexOf(',')+1);
                      var gacha3 = "(" +GachaSeq[2]+") " +obj.get('gacha3').toString().substring(obj.get('gacha3').toString().indexOf(',')+1);
                      var MDCode = obj.get('MDCode');


                      console.log(gacha1)



                                  innerhtml +=

                                  "<div class='col-md-3' ><div class='panel panel-success'> <div class='panel-heading'>"

                                    if(gacha1 != null){
                                    innerhtml += "<a target='_blank' href='http://google.com/search?q=" + gacha1 + "'><img alt='"
                                    + gacha1 + "' title='" + gacha1 + "' src='http://yeeapps.com/images/sbmonster/image"+GachaSeq[0]+".jpg'></a>";

                                    }
                                    if(gacha2 != null){
                                    innerhtml += "<a target='_blank' href='http://google.com/search?q=" + gacha2 + "'><img alt='"
                                    + gacha2 + "' title='" + gacha2 + "' src='http://yeeapps.com/images/sbmonster/image"+GachaSeq[1]+".jpg'></a>";
                                   }

                                   if(gacha3 != null){
                                     innerhtml += "<a target='_blank' href='http://google.com/search?q=" + gacha3 + "'><img alt='"
                                     + gacha3 + "' title='" + gacha3 + "' src='http://yeeapps.com/images/sbmonster/image"+GachaSeq[2]+".jpg'></a>";
                                  }

                                    innerhtml += "<div class='text-right'>主帳號:"+MDCode+"</div></div> ";



                                  innerhtml += "</div></div></div>";






                  }
                  console.log(innerhtml)
                  $('#test').html(innerhtml);

              }
          });

}
function containsAll(needles, haystack){
  for(var i = 0 , len = needles.length; i < len; i++){
     if($.inArray(needles[i], haystack) == -1) return false;
  }
  return true;
}



      </script>
    編號1: <input id="1" type="text" name="1" value=""><br>
    編號2: <input id="2" type="text" name="2" value=""><br>
    編號3: <input id="3" type="text" name="3" value=""><br>


      </br>
      <div id="choise"></div>
      <button onclick="choise = [];if(document.getElementById('1').value != ''){choise.push(document.getElementById('1').value)};if(document.getElementById('2').value != ''){choise.push(document.getElementById('2').value)};if(document.getElementById('3').value != ''){choise.push(document.getElementById('3').value)};findaccount(choise)">查詢</button>
   <div id="test"></div>

  </body>

</html>
